{"ast":null,"code":"var _jsxFileName = \"G:\\\\tanzhou\\\\react_shizhan\\\\xiaomireact\\\\xiaomi\\\\src\\\\components\\\\goodsDetail\\\\goodsDetail.jsx\";\nimport React, { Component } from 'react';\nimport { Card, WingBlank, List, Icon, ActionSheet, WhiteSpace, Button, Toast } from 'antd-mobile';\nimport './goodsDetail.css';\nimport Back from \"../back/back\"; // import AddCar from \"../footer/addCar\";\n\nimport util from \"../util\";\nimport { connect } from \"react-redux\";\nimport { addgood } from \"../../actions/cart\";\nimport { Link } from \"react-router-dom\";\nimport { loadingToast, offline, failToast, showToast, showToastNoMask, successToast } from \"../../common/js/toast/toast\";\nconst Item = List.Item; // @connect(\n//     state=>({abc:state}),\n//     {addgood}\n// )\n\nclass GoodsDetail extends Component {\n  constructor(props) {\n    super(props);\n\n    this.getGoodbyId = shopid => {\n      fetch(\"\".concat(util, \"/api/buygoods/\").concat(shopid)).then(res => res.json()).then(data => {\n        if (data !== undefined) {\n          this.setState({\n            data: data,\n            id: data.shopid\n          }, event => {\n            console.log(this.state);\n          });\n        }\n\n        console.log(data);\n      });\n    };\n\n    this.state = {\n      data: {},\n      num: 1,\n      id: 0\n    };\n    console.log(this.props);\n    this.addcar = this.addcar.bind(this);\n  }\n\n  componentDidMount() {\n    let shopid = this.props.match.params.shopid;\n    this.getGoodbyId(shopid); // this.addcar()\n    // console.log(this.props)\n  }\n\n  addcar(event) {\n    let _this$state = this.state,\n        id = _this$state.id,\n        num = _this$state.num;\n    let addgood = this.props.addgood;\n    addgood({\n      id,\n      num\n    });\n    successToast('添加成功');\n    console.log(this.props);\n  }\n\n  render() {\n    let dat = this.state.data;\n    return React.createElement(\"div\", {\n      className: 'goods',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(Back, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: 'goods_img',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: dat.picurl,\n      height: '100%',\n      width: '100%',\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: 'goods_content',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: 'hea',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, \"\\u79D2\\u6740\\u4EF7\\uFFE51999\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \"\\u5012\\u8BA1\\u65F6 12:59:00\")), React.createElement(WingBlank, {\n      size: \"lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(WhiteSpace, {\n      size: \"lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }), React.createElement(Card, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(Card.Header, {\n      title: dat.title,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }), React.createElement(Card.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, dat.des)), React.createElement(Card.Footer, {\n      content: React.createElement(\"div\", {\n        style: {\n          display: 'inline',\n          color: '#ff4a00',\n          fontSize: '0.5rem'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, dat.symbol, dat.price),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }))), React.createElement(List, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(Item, {\n      thumb: require('../../common/images/已选.png'),\n      arrow: \"horizontal\" // onClick={this.showActionSheet}\n      ,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, dat.title), React.createElement(Item, {\n      thumb: require('../../common/images/已选.png'),\n      arrow: \"horizontal\",\n      onClick: () => {},\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \"\\u5317\\u4EAC\\u5E02\"), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \"\\u4E1C\\u57CE\\u533A\"), React.createElement(\"span\", {\n      style: {\n        color: 'red'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \"\\u6709\\u73B0\\u8D27\")), React.createElement(Item, {\n      className: 'list_item',\n      arrow: \"horizontal\",\n      onClick: () => {},\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: 'span',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      className: 'icon',\n      type: 'check-circle-o',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, \"\\u5C0F\\u7C73\\u81EA\\u8425\")), React.createElement(\"span\", {\n      className: 'span',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      className: 'icon',\n      type: 'check-circle-o',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, \"\\u5C0F\\u7C73\\u53D1\\u8D27\")), React.createElement(\"span\", {\n      className: 'span',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      className: 'icon',\n      type: 'check-circle-o',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, \"7\\u5929\\u65E0\\u7406\\u7531\\u9000\\u8D27\"))))), React.createElement(\"div\", {\n      className: 'addcar',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      className: 'item',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: 'iconfont icon-shouye1',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, \"\\u9996\\u9875\"))), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: 'iconfont icon-gouwuche-01',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: '/shopcar',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, \"\\u8D2D\\u7269\\u8F66\")))))), React.createElement(\"button\", {\n      onClick: this.addcar,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, \"\\u52A0\\u5165\\u8D2D\\u7269\\u8F66\")));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    hh: state\n  };\n};\n\nconst mapDispatchToProps = {\n  addgood\n};\nGoodsDetail = connect(mapStateToProps, mapDispatchToProps)(GoodsDetail); // export default GoodsDetail\n\nexport default GoodsDetail;","map":{"version":3,"sources":["G:\\tanzhou\\react_shizhan\\xiaomireact\\xiaomi\\src\\components\\goodsDetail\\goodsDetail.jsx"],"names":["React","Component","Card","WingBlank","List","Icon","ActionSheet","WhiteSpace","Button","Toast","Back","util","connect","addgood","Link","loadingToast","offline","failToast","showToast","showToastNoMask","successToast","Item","GoodsDetail","constructor","props","getGoodbyId","shopid","fetch","then","res","json","data","undefined","setState","id","event","console","log","state","num","addcar","bind","componentDidMount","match","params","render","dat","picurl","title","des","display","color","fontSize","symbol","price","require","mapStateToProps","hh","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport { Card, WingBlank ,List,Icon, ActionSheet,  WhiteSpace, Button, Toast} from 'antd-mobile';\r\nimport './goodsDetail.css'\r\nimport Back from \"../back/back\";\r\n// import AddCar from \"../footer/addCar\";\r\nimport util from \"../util\";\r\nimport {connect} from \"react-redux\";\r\nimport {addgood} from \"../../actions/cart\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {loadingToast,offline,failToast,showToast,showToastNoMask,successToast} from \"../../common/js/toast/toast\";\r\n\r\nconst Item = List.Item;\r\n\r\n\r\n// @connect(\r\n//     state=>({abc:state}),\r\n//     {addgood}\r\n// )\r\nclass GoodsDetail extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state={\r\n            data:{},\r\n            num:1,\r\n            id:0\r\n        };\r\n        console.log(this.props)\r\n        this.addcar = this.addcar.bind(this)\r\n    }\r\n    componentDidMount() {\r\n        let shopid = this.props.match.params.shopid;\r\n        this.getGoodbyId(shopid);\r\n        // this.addcar()\r\n\r\n        // console.log(this.props)\r\n    }\r\n    addcar(event){\r\n        let {id,num} = this.state;\r\n        let {addgood} = this.props;\r\n        addgood({\r\n            id,\r\n            num\r\n        });\r\n        successToast('添加成功');\r\n        console.log(this.props);\r\n    };\r\n    getGoodbyId=(shopid)=>{\r\n        fetch(`${util}/api/buygoods/${shopid}`)\r\n            .then(res=>res.json())\r\n            .then((data)=>{\r\n                if(data !== undefined){\r\n                    this.setState({\r\n                        data:data,\r\n                        id:data.shopid\r\n                    },(event)=>{\r\n                        console.log(this.state)\r\n                    });\r\n                }\r\n                console.log(data)\r\n            })\r\n    };\r\n    \r\n    render() {\r\n        let dat  = this.state.data;\r\n        return (\r\n            <div className={'goods'}>\r\n                <Back/>\r\n                <div className={'goods_img'}>\r\n                    <img src={dat.picurl} height={'100%'} width={'100%'} alt=\"\"/>\r\n                </div>\r\n                <div className={'goods_content'}>\r\n                    <div className={'hea'}>\r\n                        <div>秒杀价￥1999</div>\r\n                        <div>倒计时 12:59:00</div>\r\n                    </div>\r\n                    <WingBlank size=\"lg\">\r\n                        <WhiteSpace size=\"lg\" />\r\n                        <Card>\r\n                            <Card.Header\r\n                                title={dat.title}\r\n                            />\r\n                            <Card.Body>\r\n                                <div>{dat.des}</div>\r\n                            </Card.Body>\r\n                            <Card.Footer content={<div style={{display:'inline',color:'#ff4a00',fontSize:'0.5rem'}}>{dat.symbol}{dat.price}</div>}  />\r\n                        </Card>\r\n                        {/*<WhiteSpace size=\"lg\" />*/}\r\n                    </WingBlank>\r\n                    <List >\r\n                            <Item\r\n                                thumb={require('../../common/images/已选.png')}\r\n                                arrow=\"horizontal\"\r\n                                // onClick={this.showActionSheet}\r\n                            >{dat.title}</Item>\r\n\r\n                            <Item\r\n                                thumb={require('../../common/images/已选.png')}\r\n                                arrow=\"horizontal\"\r\n                                onClick={() => {}}\r\n                            ><span>北京市</span><span>东城区</span><span style={{color:'red'}}>有现货</span>\r\n                            </Item>\r\n                      \r\n\r\n                        <Item\r\n                            className={'list_item'}\r\n                            arrow=\"horizontal\"\r\n                            onClick={() => {}}\r\n                        >\r\n                            <span className={'span'}>\r\n                                <Icon  className={'icon'} type={'check-circle-o'}/><span>小米自营</span>\r\n                            </span >\r\n                            <span className={'span'}>\r\n                                <Icon className={'icon'} type={'check-circle-o'}/><span>小米发货</span>\r\n                            </span>\r\n                            <span className={'span'}>\r\n                                <Icon  className={'icon'} type={'check-circle-o'}/><span>7天无理由退货</span>\r\n                            </span>\r\n                        </Item>\r\n\r\n                    </List>\r\n                </div>\r\n                <div className={'addcar'}>\r\n                    <div >\r\n                        <ul className={'item'}>\r\n                            <li><a href=\"\"><i className={'iconfont icon-shouye1'}/><div>首页</div></a></li>\r\n                            <li><a href=\"\"><i className={'iconfont icon-gouwuche-01'}/><div><Link to={'/shopcar'}>购物车</Link></div></a></li>\r\n                        </ul></div>\r\n                    <button onClick={this.addcar}>加入购物车</button>\r\n                </div>  \r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state)=>{\r\n    return {hh:state}\r\n};\r\nconst mapDispatchToProps = {\r\n    addgood\r\n};\r\nGoodsDetail = connect(mapStateToProps,mapDispatchToProps)(GoodsDetail);\r\n// export default GoodsDetail\r\nexport default GoodsDetail;"]},"metadata":{},"sourceType":"module"}