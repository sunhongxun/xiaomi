{"ast":null,"code":"var _jsxFileName = \"G:\\\\tanzhou\\\\react_shizhan\\\\xiaomireact\\\\xiaomi\\\\src\\\\components\\\\banner\\\\banner.jsx\";\nimport React, { Component } from 'react';\nimport { Carousel, WingBlank } from \"antd-mobile\";\nimport 'antd/dist/antd.css';\nimport './banner.css';\n\nclass Banner extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      data: ['1', '2', '3'],\n      imgHeight: 360\n    };\n\n    this.getBanner = () => {\n      fetch(\"http://47.100.98.54:9020/api/banner\").then(res => res.json()).then(res => {\n        console.log(res);\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.getBanner(); // simulate img loading\n\n    setTimeout(() => {\n      this.setState({\n        data: ['1', '2', '3']\n      });\n    }, 100);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: 'banner',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31\n      },\n      __self: this\n    }, React.createElement(WingBlank, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    }, React.createElement(Carousel, {\n      autoplay: true,\n      infinite: true,\n      beforeChange: (from, to) => console.log(\"slide from \".concat(from, \" to \").concat(to)),\n      afterChange: index => console.log('slide to', index),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33\n      },\n      __self: this\n    }, this.state.data.map(val => React.createElement(\"a\", {\n      key: val,\n      href: \"http://www.alipay.com\",\n      style: {\n        display: 'inline-block',\n        width: '100%',\n        height: this.state.imgHeight\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: require(\"../../common/images/\".concat(val, \".jpg\")),\n      alt: \"\",\n      style: {\n        width: '100%',\n        verticalAlign: 'top'\n      },\n      onLoad: () => {\n        // fire window resize event to change height\n        window.dispatchEvent(new Event('resize'));\n        this.setState({\n          imgHeight: 'auto'\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }))))));\n  }\n\n}\n\nexport default Banner;","map":{"version":3,"sources":["G:\\tanzhou\\react_shizhan\\xiaomireact\\xiaomi\\src\\components\\banner\\banner.jsx"],"names":["React","Component","Carousel","WingBlank","Banner","state","data","imgHeight","getBanner","fetch","then","res","json","console","log","componentDidMount","setTimeout","setState","render","from","to","index","map","val","display","width","height","require","verticalAlign","window","dispatchEvent","Event"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,SAAQC,QAAR,EAAiBC,SAAjB,QAAmC,aAAnC;AACA,OAAO,oBAAP;AACA,OAAO,cAAP;;AACA,MAAMC,MAAN,SAAqBH,SAArB,CAA+B;AAAA;AAAA;AAAA,SAC3BI,KAD2B,GACnB;AACJC,MAAAA,IAAI,EAAE,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CADF;AAEJC,MAAAA,SAAS,EAAC;AAFN,KADmB;;AAAA,SAiB3BC,SAjB2B,GAiBhB,MAAI;AACXC,MAAAA,KAAK,uCAAL,CACKC,IADL,CACUC,GAAG,IAAEA,GAAG,CAACC,IAAJ,EADf,EAEKF,IAFL,CAEWC,GAAD,IAAO;AACTE,QAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;AACH,OAJL;AAKH,KAvB0B;AAAA;;AAK3BI,EAAAA,iBAAiB,GAAG;AAChB,SAAKP,SAAL,GADgB,CAKhB;;AACAQ,IAAAA,UAAU,CAAC,MAAM;AACb,WAAKC,QAAL,CAAc;AACVX,QAAAA,IAAI,EAAE,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX;AADI,OAAd;AAGH,KAJS,EAIP,GAJO,CAAV;AAKH;;AAQDY,EAAAA,MAAM,GAAG;AACL,WACI;AAAK,MAAA,SAAS,EAAE,QAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,QAAD;AACI,MAAA,QAAQ,EAAE,IADd;AAEI,MAAA,QAAQ,MAFZ;AAGI,MAAA,YAAY,EAAE,CAACC,IAAD,EAAOC,EAAP,KAAcP,OAAO,CAACC,GAAR,sBAA0BK,IAA1B,iBAAqCC,EAArC,EAHhC;AAII,MAAA,WAAW,EAAEC,KAAK,IAAIR,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBO,KAAxB,CAJ1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAMK,KAAKhB,KAAL,CAAWC,IAAX,CAAgBgB,GAAhB,CAAoBC,GAAG,IACpB;AACI,MAAA,GAAG,EAAEA,GADT;AAEI,MAAA,IAAI,EAAE,uBAFV;AAGI,MAAA,KAAK,EAAE;AAAEC,QAAAA,OAAO,EAAE,cAAX;AAA2BC,QAAAA,KAAK,EAAE,MAAlC;AAA0CC,QAAAA,MAAM,EAAE,KAAKrB,KAAL,CAAWE;AAA7D,OAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAKI;AACI,MAAA,GAAG,EAAEoB,OAAO,+BAAwBJ,GAAxB,UADhB;AAEI,MAAA,GAAG,EAAC,EAFR;AAGI,MAAA,KAAK,EAAE;AAAEE,QAAAA,KAAK,EAAE,MAAT;AAAiBG,QAAAA,aAAa,EAAE;AAAhC,OAHX;AAII,MAAA,MAAM,EAAE,MAAM;AACV;AACAC,QAAAA,MAAM,CAACC,aAAP,CAAqB,IAAIC,KAAJ,CAAU,QAAV,CAArB;AACA,aAAKd,QAAL,CAAc;AAAEV,UAAAA,SAAS,EAAE;AAAb,SAAd;AACH,OARL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALJ,CADH,CANL,CADJ,CADJ,CADJ;AAqCH;;AA9D0B;;AAiE/B,eAAeH,MAAf","sourcesContent":["import React, {Component} from 'react';\r\nimport {Carousel,WingBlank  } from \"antd-mobile\";\r\nimport 'antd/dist/antd.css'\r\nimport './banner.css'\r\nclass Banner extends Component {\r\n    state = {\r\n        data: ['1', '2', '3'],\r\n        imgHeight:360,\r\n    };\r\n    componentDidMount() {\r\n        this.getBanner();\r\n\r\n\r\n\r\n        // simulate img loading\r\n        setTimeout(() => {\r\n            this.setState({\r\n                data: ['1', '2', '3'],\r\n            });\r\n        }, 100);\r\n    }\r\n    getBanner= ()=>{\r\n        fetch(`http://47.100.98.54:9020/api/banner`)\r\n            .then(res=>res.json())\r\n            .then((res)=>{\r\n                console.log(res)\r\n            })\r\n    };\r\n    render() {\r\n        return (\r\n            <div className={'banner'}>\r\n                <WingBlank>\r\n                    <Carousel\r\n                        autoplay={true}\r\n                        infinite\r\n                        beforeChange={(from, to) => console.log(`slide from ${from} to ${to}`)}\r\n                        afterChange={index => console.log('slide to', index)}\r\n                    >\r\n                        {this.state.data.map(val => (\r\n                            <a\r\n                                key={val}\r\n                                href={\"http://www.alipay.com\"}\r\n                                style={{ display: 'inline-block', width: '100%', height: this.state.imgHeight }}\r\n                            >\r\n                                <img\r\n                                    src={require(`../../common/images/${val}.jpg`)}\r\n                                    alt=\"\"\r\n                                    style={{ width: '100%', verticalAlign: 'top' }}\r\n                                    onLoad={() => {\r\n                                        // fire window resize event to change height\r\n                                        window.dispatchEvent(new Event('resize'));\r\n                                        this.setState({ imgHeight: 'auto' });\r\n                                    }}\r\n                                />\r\n                            </a>\r\n                        ))}\r\n                    </Carousel>\r\n                </WingBlank>\r\n                {/*<ul>*/}\r\n                {/*    <li><a href=\"\"><img src={require('../../common/images/1.jpg')} alt=\"\"/></a></li>*/}\r\n                {/*    <li><a href=\"\"><img src={require('../../common/images/2.jpg')} alt=\"\"/></a></li>*/}\r\n                {/*    <li><a href=\"\"><img src={require('../../common/images/3.jpg')} alt=\"\"/></a></li>*/}\r\n                {/*    </ul>*/}\r\n                {/*<Carousel/>*/}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Banner;"]},"metadata":{},"sourceType":"module"}