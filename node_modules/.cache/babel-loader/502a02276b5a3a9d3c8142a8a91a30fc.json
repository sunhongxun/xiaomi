{"ast":null,"code":"var _jsxFileName = \"G:\\\\tanzhou\\\\react_shizhan\\\\xiaomireact\\\\xiaomi\\\\src\\\\components\\\\banner\\\\banner.jsx\";\nimport React, { Component } from 'react';\nimport { Carousel, WingBlank } from \"antd-mobile\";\nimport 'antd/dist/antd.css';\nimport './banner.css';\n\nclass Banner extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      dataBanner: []\n    };\n\n    this.getBanner = () => {\n      fetch(\"http://47.100.98.54:9020/api/banner\").then(res => res.json()).then(data => {\n        if (data.status == 200) {\n          this.setState({\n            dataBanner: data.data\n          });\n        }\n\n        console.log(data);\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.getBanner(); // simulate img loading\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: 'banner',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31\n      },\n      __self: this\n    }, React.createElement(WingBlank, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    }, React.createElement(Carousel, {\n      autoplay: true,\n      infinite: true,\n      beforeChange: (from, to) => console.log(\"slide from \".concat(from, \" to \").concat(to)),\n      afterChange: index => console.log('slide to', index),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33\n      },\n      __self: this\n    }, this.state.dataBanner.length > 0 && this.state.dataBanner.map((item, index) => {\n      return React.createElement(\"a\", {\n        key: item.id // href={\"http://www.alipay.com\"}\n        ,\n        style: {\n          display: 'inline-block',\n          width: '100%',\n          height: this.state.imgHeight\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: item.picurl,\n        alt: item.alt,\n        style: {\n          width: '100%',\n          verticalAlign: 'top'\n        },\n        onLoad: () => {\n          // fire window resize event to change height\n          window.dispatchEvent(new Event('resize'));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }));\n    }))));\n  }\n\n}\n\nexport default Banner;","map":{"version":3,"sources":["G:\\tanzhou\\react_shizhan\\xiaomireact\\xiaomi\\src\\components\\banner\\banner.jsx"],"names":["React","Component","Carousel","WingBlank","Banner","state","dataBanner","getBanner","fetch","then","res","json","data","status","setState","console","log","componentDidMount","render","from","to","index","length","map","item","id","display","width","height","imgHeight","picurl","alt","verticalAlign","window","dispatchEvent","Event"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,SAAQC,QAAR,EAAiBC,SAAjB,QAAmC,aAAnC;AACA,OAAO,oBAAP;AACA,OAAO,cAAP;;AACA,MAAMC,MAAN,SAAqBH,SAArB,CAA+B;AAAA;AAAA;AAAA,SAC3BI,KAD2B,GACnB;AACJC,MAAAA,UAAU,EAAC;AADP,KADmB;;AAAA,SAY3BC,SAZ2B,GAYhB,MAAI;AACXC,MAAAA,KAAK,uCAAL,CACKC,IADL,CACUC,GAAG,IAAEA,GAAG,CAACC,IAAJ,EADf,EAEKF,IAFL,CAEWG,IAAD,IAAQ;AACV,YAAGA,IAAI,CAACC,MAAL,IAAe,GAAlB,EAAsB;AAClB,eAAKC,QAAL,CAAc;AACVR,YAAAA,UAAU,EAACM,IAAI,CAACA;AADN,WAAd;AAGH;;AACDG,QAAAA,OAAO,CAACC,GAAR,CAAYJ,IAAZ;AACH,OATL;AAUH,KAvB0B;AAAA;;AAI3BK,EAAAA,iBAAiB,GAAG;AAChB,SAAKV,SAAL,GADgB,CAKhB;AAEH;;AAaDW,EAAAA,MAAM,GAAG;AACL,WACI;AAAK,MAAA,SAAS,EAAE,QAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,QAAD;AACI,MAAA,QAAQ,EAAE,IADd;AAEI,MAAA,QAAQ,MAFZ;AAGI,MAAA,YAAY,EAAE,CAACC,IAAD,EAAOC,EAAP,KAAcL,OAAO,CAACC,GAAR,sBAA0BG,IAA1B,iBAAqCC,EAArC,EAHhC;AAII,MAAA,WAAW,EAAEC,KAAK,IAAIN,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBK,KAAxB,CAJ1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAMK,KAAKhB,KAAL,CAAWC,UAAX,CAAsBgB,MAAtB,GAA+B,CAA/B,IAAoC,KAAKjB,KAAL,CAAWC,UAAX,CAAsBiB,GAAtB,CAA0B,CAACC,IAAD,EAAMH,KAAN,KAAgB;AAC3E,aACI;AACI,QAAA,GAAG,EAAEG,IAAI,CAACC,EADd,CAEI;AAFJ;AAGI,QAAA,KAAK,EAAE;AAAEC,UAAAA,OAAO,EAAE,cAAX;AAA2BC,UAAAA,KAAK,EAAE,MAAlC;AAA0CC,UAAAA,MAAM,EAAE,KAAKvB,KAAL,CAAWwB;AAA7D,SAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAKI;AACI,QAAA,GAAG,EAAEL,IAAI,CAACM,MADd;AAEI,QAAA,GAAG,EAAEN,IAAI,CAACO,GAFd;AAGI,QAAA,KAAK,EAAE;AAAEJ,UAAAA,KAAK,EAAE,MAAT;AAAiBK,UAAAA,aAAa,EAAE;AAAhC,SAHX;AAII,QAAA,MAAM,EAAE,MAAM;AACV;AACAC,UAAAA,MAAM,CAACC,aAAP,CAAqB,IAAIC,KAAJ,CAAU,QAAV,CAArB;AACH,SAPL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QALJ,CADJ;AAgBE,KAjB+B,CANzC,CADJ,CADJ,CADJ;AAqCH;;AA9D0B;;AAiE/B,eAAe/B,MAAf","sourcesContent":["import React, {Component} from 'react';\r\nimport {Carousel,WingBlank  } from \"antd-mobile\";\r\nimport 'antd/dist/antd.css'\r\nimport './banner.css'\r\nclass Banner extends Component {\r\n    state = {\r\n        dataBanner:[]\r\n    };\r\n    componentDidMount() {\r\n        this.getBanner();\r\n\r\n\r\n\r\n        // simulate img loading\r\n\r\n    }\r\n    getBanner= ()=>{\r\n        fetch(`http://47.100.98.54:9020/api/banner`)\r\n            .then(res=>res.json())\r\n            .then((data)=>{\r\n                if(data.status == 200){\r\n                    this.setState({\r\n                        dataBanner:data.data\r\n                    })\r\n                }\r\n                console.log(data)\r\n            })\r\n    };\r\n    render() {\r\n        return (\r\n            <div className={'banner'}>\r\n                <WingBlank>\r\n                    <Carousel\r\n                        autoplay={true}\r\n                        infinite\r\n                        beforeChange={(from, to) => console.log(`slide from ${from} to ${to}`)}\r\n                        afterChange={index => console.log('slide to', index)}\r\n                    >\r\n                        {this.state.dataBanner.length > 0 && this.state.dataBanner.map((item,index) => {\r\n                            return(\r\n                                <a\r\n                                    key={item.id}\r\n                                    // href={\"http://www.alipay.com\"}\r\n                                    style={{ display: 'inline-block', width: '100%', height: this.state.imgHeight }}\r\n                                >\r\n                                    <img\r\n                                        src={item.picurl}\r\n                                        alt={item.alt}\r\n                                        style={{ width: '100%', verticalAlign: 'top' }}\r\n                                        onLoad={() => {\r\n                                            // fire window resize event to change height\r\n                                            window.dispatchEvent(new Event('resize'));\r\n                                        }}\r\n                                    />\r\n                                </a>\r\n                            )})}\r\n                    </Carousel>\r\n                </WingBlank>\r\n                {/*<ul>*/}\r\n                {/*    <li><a href=\"\"><img src={require('../../common/images/1.jpg')} alt=\"\"/></a></li>*/}\r\n                {/*    <li><a href=\"\"><img src={require('../../common/images/2.jpg')} alt=\"\"/></a></li>*/}\r\n                {/*    <li><a href=\"\"><img src={require('../../common/images/3.jpg')} alt=\"\"/></a></li>*/}\r\n                {/*    </ul>*/}\r\n                {/*<Carousel/>*/}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Banner;"]},"metadata":{},"sourceType":"module"}