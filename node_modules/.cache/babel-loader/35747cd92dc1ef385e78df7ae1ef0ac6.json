{"ast":null,"code":"var _jsxFileName = \"G:\\\\tanzhou\\\\react_shizhan\\\\xiaomireact\\\\xiaomi\\\\src\\\\components\\\\shopCar\\\\shopCar.jsx\";\nimport React, { Component } from 'react';\nimport { List, Stepper, Checkbox, Toast } from \"antd-mobile\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { offline } from \"../../common/js/toast/toast\";\nimport Top from \"../Header/top\";\nimport './shopcar.css';\nimport url from \"../util\";\nimport { addgood, delgood, getgoodsnum } from \"../../actions/cart\";\nimport { shopTools } from \"../util\";\nimport GoodsDetail from \"../goodsDetail/goodsDetail\";\n\nconst customIcon = () => React.createElement(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 64 64\",\n  className: \"am-icon am-icon-md\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 16\n  },\n  __self: this\n}, React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  d: \"M59.177 29.5s-1.25 0-1.25 2.5c0 14.47-11.786 26.244-26.253 26.244C17.206 58.244 5.417 46.47 5.417 32c0-13.837 11.414-25.29 25.005-26.26v6.252c0 .622-.318 1.635.198 1.985a1.88 1.88 0 0 0 1.75.19l21.37-8.545c.837-.334 1.687-1.133 1.687-2.384C55.425 1.99 53.944 2 53.044 2h-21.37C15.134 2 1.667 15.46 1.667 32c0 16.543 13.467 30 30.007 30 16.538 0 29.918-13.458 29.993-30 .01-2.5-1.24-2.5-1.24-2.5h-1.25\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 17\n  },\n  __self: this\n})); //购物车\n\n\nclass ShopCar extends Component {\n  constructor(props) {\n    super(props);\n\n    this.getdata = () => {\n      let buyCount = this.props.car.buyCount; // console.log(buyCount);\n\n      let shopids = Object.keys(buyCount);\n      shopids.forEach((item, index) => {\n        fetch(\"\".concat(url, \"/api/buygoods/\") + item).then(res => res.json()).then(data => {\n          this.setState({\n            goods: data\n          }, event => {\n            console.log(this.state.goods);\n          });\n        });\n      });\n    };\n\n    this.onChange = val => {\n      if (val === 10) {\n        offline('只能选择10个');\n      }\n    };\n\n    this.state = {\n      goods: {}\n    };\n  }\n\n  componentDidMount() {\n    setTimeout(() => {\n      Toast.hide();\n    }, 3000); // console.log(shopTools.getthing().id);\n\n    this.getdata();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(Top, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: 'shopcar',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(List, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(List.Item, {\n      thumb: React.createElement(Checkbox, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }),\n      wrap: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: '',\n      src: require('../../common/images/buy_img.jpg'),\n      width: '100%',\n      height: '100%',\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: 'buy_title',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, \"\\u5C0F\\u7C73MIX 2S \\u5168\\u7F51\\u901A\\u7248 6GB\\u5185\\u5B58 \\u9676\\u74F7\\u6807\\u51C6\\u7248 128GB \\u9ED1\\u8272 128GB\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      style: {\n        marginRight: '5px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \"\\u552E\\u4EF7:\"), React.createElement(\"span\", {\n      style: {\n        color: '#797979',\n        fontSize: '0.25rem'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \"\\uFFE51999\")), React.createElement(\"div\", {\n      className: 'num',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(Stepper, {\n      showNumber: true,\n      max: 10,\n      min: 0,\n      defaultValue: 0,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }), React.createElement(\"i\", {\n      className: 'iconfont icon-shanchu',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }))))), React.createElement(\"div\", {\n      className: 'buy_footer',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: 'buy_span',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"\\u51711\\u4EF6 \\u91D1\\u989D\\uFF1A\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"1999 \", React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"\\u5143\"))), React.createElement(\"div\", {\n      style: {\n        color: '#555',\n        fontSize: '0.35rem'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: '/',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \"\\u7EE7\\u7EED\\u8D2D\\u7269\")), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: 'buy_button',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \" \\u53BB\\u7ED3\\u7B97\")))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    car: state\n  };\n};\n\nconst mapDispatchToProps = {\n  addgood,\n  delgood,\n  getgoodsnum\n};\nShopCar = connect(mapStateToProps, mapDispatchToProps)(ShopCar);\nexport default ShopCar;","map":{"version":3,"sources":["G:\\tanzhou\\react_shizhan\\xiaomireact\\xiaomi\\src\\components\\shopCar\\shopCar.jsx"],"names":["React","Component","List","Stepper","Checkbox","Toast","Link","connect","offline","Top","url","addgood","delgood","getgoodsnum","shopTools","GoodsDetail","customIcon","ShopCar","constructor","props","getdata","buyCount","car","shopids","Object","keys","forEach","item","index","fetch","then","res","json","data","setState","goods","event","console","log","state","onChange","val","componentDidMount","setTimeout","hide","render","require","marginRight","color","fontSize","mapStateToProps","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport {List,Stepper , Checkbox,Toast} from \"antd-mobile\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nimport {offline} from \"../../common/js/toast/toast\";\r\nimport Top from \"../Header/top\";\r\nimport './shopcar.css'\r\nimport url from \"../util\";\r\nimport {addgood,delgood,getgoodsnum} from \"../../actions/cart\";\r\nimport {shopTools} from \"../util\";\r\n\r\nimport GoodsDetail from \"../goodsDetail/goodsDetail\";\r\n\r\nconst customIcon = () => (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 64 64\" className=\"am-icon am-icon-md\">\r\n        <path fillRule=\"evenodd\" d=\"M59.177 29.5s-1.25 0-1.25 2.5c0 14.47-11.786 26.244-26.253 26.244C17.206 58.244 5.417 46.47 5.417 32c0-13.837 11.414-25.29 25.005-26.26v6.252c0 .622-.318 1.635.198 1.985a1.88 1.88 0 0 0 1.75.19l21.37-8.545c.837-.334 1.687-1.133 1.687-2.384C55.425 1.99 53.944 2 53.044 2h-21.37C15.134 2 1.667 15.46 1.667 32c0 16.543 13.467 30 30.007 30 16.538 0 29.918-13.458 29.993-30 .01-2.5-1.24-2.5-1.24-2.5h-1.25\" />\r\n    </svg>\r\n);\r\n//购物车\r\nclass ShopCar extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n            goods:{}\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        setTimeout(() => {\r\n            Toast.hide();\r\n        }, 3000);\r\n        // console.log(shopTools.getthing().id);\r\n        this.getdata();\r\n    }\r\n\r\n    getdata= ()=>{\r\n        let {buyCount} = this.props.car;\r\n        // console.log(buyCount);\r\n        let shopids = Object.keys(buyCount);\r\n        shopids.forEach((item,index)=>{\r\n            fetch(`${url}/api/buygoods/`+item)\r\n                .then(res=>res.json())\r\n                .then((data)=>{\r\n                    this.setState({\r\n                        goods:data\r\n                    },(event)=>{\r\n                        console.log(this.state.goods)\r\n                    })\r\n                })\r\n        })\r\n    }\r\n\r\n    onChange=(val)=>{\r\n        if(val === 10){\r\n            offline('只能选择10个')\r\n        }\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Top/>\r\n               <div className={'shopcar'}>\r\n                   {/*<div className={'shop_content'}>*/}\r\n                   {/*    <img id={'gouwu'} src={require('../../common/images/gouwuc.png')} width={'100%'} alt=\"\"/>*/}\r\n                   {/*    <span >购物车还是空的</span>*/}\r\n                   {/*    <button>去逛逛</button>*/}\r\n                   {/*</div>*/}\r\n                   <List>\r\n                       <List.Item\r\n                            thumb={\r\n                                <Checkbox/>\r\n                            }\r\n                            wrap={true}\r\n                       >\r\n                           <img className={''} src={require('../../common/images/buy_img.jpg')} width={'100%'} height={'100%'} alt=\"\"/>\r\n                           <div >\r\n                               <div className={'buy_title'} >小米MIX 2S 全网通版 6GB内存 陶瓷标准版 128GB 黑色 128GB</div>\r\n                               <div><span style={{marginRight:'5px'}}>售价:</span><span style={{color:'#797979',fontSize:'0.25rem'}}>￥1999</span></div>\r\n                               <div className={'num'} >\r\n                                   <Stepper\r\n                                       showNumber\r\n                                       max={10}\r\n                                       min={0}\r\n                                       defaultValue={0}\r\n                                       onChange={this.onChange}\r\n                                   />\r\n                                   <i className={'iconfont icon-shanchu'}/>\r\n                               </div>\r\n                           </div>\r\n                       </List.Item>\r\n                   </List>\r\n                    <div className={'buy_footer'}>\r\n                        <div className={'buy_span'}><span >共1件 金额：</span><div>1999 <span>元</span></div></div>\r\n                        <div style={{color:'#555',fontSize:'0.35rem'}}><Link to={'/'}>继续购物</Link></div>\r\n                        <div><button className={'buy_button'}> 去结算</button></div>\r\n                    </div>\r\n               </div>\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\nconst mapStateToProps = (state)=>{\r\n    return {car:state}\r\n};\r\nconst mapDispatchToProps = {\r\n    addgood,\r\n    delgood,\r\n    getgoodsnum\r\n};\r\nShopCar = connect(mapStateToProps,mapDispatchToProps)(ShopCar);\r\nexport default ShopCar;"]},"metadata":{},"sourceType":"module"}